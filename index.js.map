{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js"],"sourcesContent":["import iziToast from \"izitoast\";// Додатковий імпорт стилів\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nconst load = document.querySelector('.load');\nconst button = document.querySelector('.button');\nconst gallery = document.querySelector('.gallery');\nconst input = document.querySelector('.input');\nconst lightbox = new SimpleLightbox('.gallery a', {\n    captionDelay: 250,\n});\n\nbutton.addEventListener(\"click\", (evt)=>{\n    evt.preventDefault();\n\n    load.classList.remove('hidden');\n    const options = {\n        key: '34921849-da8a609ca2d9d5a3e9034ffad',\n        q: input.value.trim(),\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n    }\n    const params = new URLSearchParams(options).toString();\n    fetch(`https://pixabay.com/api/?${params}`) \n        .then((response) => {\n            if (!response.ok) {\n                throw new Error(response.status);\n            }\n            return response.json();\n        })\n        .then((photos) => {\n            if (photos.hits.length === 0) {\n                iziToast.error({\n                    message: \"Sorry, there are no images matching your search query. Please try again!\",\n                    position: 'topRight',\n                    timeout: 3000,\n                });\n                return;\n            }\n\n            const markup = photos.hits\n                .map((photo) => {\n                    return `\n                        <li class=\"item\">\n                            <a href=\"${photo.largeImageURL}\">\n                                <img alt=\"${photo.tags}\" src=\"${photo.webformatURL}\" width=\"360\" height=\"200\"/>\n                            </a>\n                            <div class=\"card\"><p class=\"info-item\"><b>Likes</b>${photo.likes}</p>\n                            <p class=\"info-item\"><b>Views</b>${photo.views}</p>\n                            <p class=\"info-item\"><b>Comments</b>${photo.comments}</p>\n                            <p class=\"info-item\"><b>Downloads</b>${photo.downloads}</p>\n                            </div>\n                        </li>`;\n            })\n            .join(\"\");\n            gallery.innerHTML = markup;\n            lightbox.refresh();\n        })\n        .catch((error) => {\n            iziToast.error({\n                message: `Error: ${error.message}`,\n                position: 'topRight',\n                timeout: 3000,\n            })\n        })\n        .finally(() => {\n            load.classList.add('hidden');\n            input.value = '';\n        });\n});\n"],"names":["load","button","gallery","input","lightbox","SimpleLightbox","evt","options","params","response","photos","iziToast","markup","photo","error"],"mappings":"6vBAKA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAQ,SAAS,cAAc,QAAQ,EACvCC,EAAW,IAAIC,EAAe,aAAc,CAC9C,aAAc,GAClB,CAAC,EAEDJ,EAAO,iBAAiB,QAAUK,GAAM,CACpCA,EAAI,eAAc,EAElBN,EAAK,UAAU,OAAO,QAAQ,EAC9B,MAAMO,EAAU,CACZ,IAAK,qCACL,EAAGJ,EAAM,MAAM,KAAM,EACrB,WAAY,QACZ,YAAa,aACb,WAAY,MACf,EACKK,EAAS,IAAI,gBAAgBD,CAAO,EAAE,SAAQ,EACpD,MAAM,4BAA4BC,CAAM,EAAE,EACrC,KAAMC,GAAa,CAChB,GAAI,CAACA,EAAS,GACV,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEnC,OAAOA,EAAS,MAC5B,CAAS,EACA,KAAMC,GAAW,CACd,GAAIA,EAAO,KAAK,SAAW,EAAG,CAC1BC,EAAS,MAAM,CACX,QAAS,2EACT,SAAU,WACV,QAAS,GAC7B,CAAiB,EACD,MACH,CAED,MAAMC,EAASF,EAAO,KACjB,IAAKG,GACK;AAAA;AAAA,uCAEYA,EAAM,aAAa;AAAA,4CACdA,EAAM,IAAI,UAAUA,EAAM,YAAY;AAAA;AAAA,iFAEDA,EAAM,KAAK;AAAA,+DAC7BA,EAAM,KAAK;AAAA,kEACRA,EAAM,QAAQ;AAAA,mEACbA,EAAM,SAAS;AAAA;AAAA,8BAGrE,EACA,KAAK,EAAE,EACRX,EAAQ,UAAYU,EACpBR,EAAS,QAAO,CAC5B,CAAS,EACA,MAAOU,GAAU,CACdH,EAAS,MAAM,CACX,QAAS,UAAUG,EAAM,OAAO,GAChC,SAAU,WACV,QAAS,GACzB,CAAa,CACb,CAAS,EACA,QAAQ,IAAM,CACXd,EAAK,UAAU,IAAI,QAAQ,EAC3BG,EAAM,MAAQ,EAC1B,CAAS,CACT,CAAC"}